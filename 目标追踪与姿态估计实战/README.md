# 目标追踪与姿态估计

## OpenPose

### 什么是姿态估计？
- 得到人体各个关键点位置
- 将它们按顺序进行拼接
- 这其中难点是什么？ 1、遮挡现象  2、关键点怎么匹配（人多时左右肩膀点怎么匹配）
- OpenPose如何做的呢？

### 应用领域：
- 各种特效肯定离不开关键点信息（健身APP，检测姿态估计，判断姿势是否正确）
- 行为特征分析，需各位置信息（在矿井中检测头部的位置与安全帽的位置是否重叠，重叠了代表带安全帽了，没重叠代表没有带安全帽）
- 异常检测，突变现象（游泳馆泳池进行用户姿态分析，判断是否溺水，减少安全事故）
- 各类配准分析任务都需要它作为基础


### Top-down 方法两步走：
1、检测得到所有人的框
2、对每一个框进行姿态估计输出结果

#### Top-down 方法问题：
- 姿态估计做成啥样主要由于人体检测所决定，能检测到效果估计也没问题
- 但是如果俩人出现重叠，只能检测到一个人，那肯定会丢失一个目标
- 计算效率有点低，如果一张图像中存在很多人，那姿态估计得相当慢了（Top-down 只能做离线的，却做不了实时的）
- 能不能设计一种方法不依赖于人体框而是直接进行预测呢？

#### 一个恐怖的例子：
如何得到姿态估计结果呢？分几步走？
- 1、首先得到所有关键点的位置
- 2、图中有很多个人，我们需要把属于同一个人的拼接到一起

### bottom-up 挑战任务（首先得到所有关键点再拼接）
- 现在只检测了所有关键点位置，你能把他们拼起来嘛？

- 如果得到关键点位置：通过热度图（高斯）得到每一个关键点的预测结果

### 匹配方法：
- 如果同时考虑多种匹配，那太难了
- 咱们固定好就是二分图，这样可以直接套匈牙利算法


### Convolutional Pose Machines
- 为 OpenPose 后面的工作奠定了基础，也可以当作基础框架
- 通过多个 stage 来不断优化关键点位置（stage1 预测完全错误，2 和 3 在纠正）
- stage 越多相当于层数越深，模型感受野越大，姿态估计需要更大的感受野
- 每个 stage 都加损失函数，也就是中间过程才得做的好才行


### OpenPose
- 两个网络结构分别搞定： 1、关键点预测；2、姿势的“亲和力”向量
- 序列的作用： 多个 stage，相当于纠正的过程，不断调整预测结果
- 关键点预测：一口气预测所有关键点的特征图
- 整体框架：两个分支都要经过多个阶段，注意每个阶段后要把特征拼接一起














